# 階段 1｜UI 版面與設計語言（1–2 週）

> 目標（為什麼要學這一階段）
>
> 以「少走彎路、快速產出 80% 好看且可用的 UI」為目標，建立：
>
> 1. 正確的語義化 HTML 習慣、2) 可靠的 RWD（mobile‑first）心智模型、3) 可複用的設計語言（Design Tokens）、4) 用 Tailwind CSS 與元件庫迅速拼出一致外觀、5) 基礎可及性（A11y）不踩雷、6) 必備網站圖標與社群預覽圖設定。

---

## 本階段成果物（Deliverables）

- `style-guide.html`：你的設計語言（色彩、字體、字級、間距、圓角、陰影）一頁展示。
- `components.html`：三個常用元件（Button／Card／Dialog）的可複用版本（支援鍵盤、聚焦樣式）。
- `layout.html`：一個三段式 RWD 版面（手機／平板／桌機）範例，含 Navbar、Hero、內容區、Footer。
- `meta-assets/`：favicon 套件（多尺寸）、`og-image.png`（1200×630）、`site.webmanifest`。

> 完成度門檻：做到上述 4 項且通過「80% 檢核表」，即可前進下一階段。

---

## 學習地圖（從概念到上手）

1. **HTML 語義化（Semantic HTML）**
2. **CSS 版面系統：Flexbox 與 Grid**
3. **RWD（Responsive Web Design）與 mobile‑first 思維**
4. **Design Tokens（設計語言）**
5. **Tailwind CSS（實戰加速器）**
6. **A11y（可及性）基礎**
7. **SVG（向量圖與 Icon）**
8. **Favicon／OG 圖（社群分享）**
9. **常用元件：Button／Card／Dialog**

---

## 1. HTML 語義化：讓結構有「意義」

### 是什麼？

語義化（semantic）是指**用正確元素表達內容意圖**：標題用 `<h1…h6>`、段落用 `<p>`、頁首 `<header>`、導覽 `<nav>`、主要內容 `<main>`、區塊 `<section>`、頁尾 `<footer>`……

### 為什麼重要？

- **可讀性**：人與機器都能快速理解頁面結構。
- **SEO**：搜尋引擎用語義理解層次（H1 僅一個、H2 群組段落…）。
- **可及性**：讀屏器、鍵盤導覽依賴正確標記與 landmark。

### 最小實作規則（務必內化）

- 每頁**只一個** `<h1>`；內容章節用 `<section>` 並以 `<h2>` 開頭。
- 主內容包在 `<main>`，主要導覽包在 `<nav>`。
- 列表真的用 `<ul>/<ol>`，表格資料用 `<table>`（含 `<thead>/<tbody>/<th>`）。
- 圖片必有 `alt`（裝飾圖可 `alt=""`）。

### 範例（語義化的首頁骨架）

```html
<body>
  <header>
    <nav aria-label="主導覽">…</nav>
  </header>
  <main>
    <section>
      <h1>產品名稱</h1>
      <p>一句話價值主張。</p>
    </section>
    <section>
      <h2>特色</h2>
      <ul>
        <li>快速</li>
        <li>安全</li>
        <li>好看</li>
      </ul>
    </section>
  </main>
  <footer>© 2025</footer>
</body>
```

---

## 2. CSS 版面系統：Flex 與 Grid（各做什麼？）

### Flexbox（單列／單行「分配空間」的高手）

- **使用時機**：水平置中、等高排列、左右兩端對齊、Nav 排列。
- **核心概念**：主軸（main axis）與交叉軸（cross axis）。
- **常用屬性**：`display:flex`、`gap`、`justify-content`、`align-items`、`flex-grow/shrink/basis`。

**例：水平置中且等間距**

```html
<div class="flex items-center justify-between gap-4">
  <button>上一頁</button>
  <span>第 2/10 頁</span>
  <button>下一頁</button>
</div>
```

### Grid（雙向網格，排「版面」的主力）

- **使用時機**：多欄卡片牆、複雜頁面框架、區塊對齊。
- **常用屬性**：`display:grid`、`grid-template-columns`、`grid-template-rows`、`grid-auto-flow`、`gap`、`place-items`。

**例：自適應卡片網格**

```html
<div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
  <article class="card">…</article>
  <article class="card">…</article>
  <article class="card">…</article>
</div>
```

> 心法：**「小排版用 Flex，整體版面用 Grid」**。

---

## 3. RWD 與 mobile‑first

### 是什麼？

同一頁面在不同寬度（手機／平板／桌機）呈現最佳體驗。

### 為什麼要 mobile‑first？

- 先在小螢幕排好**核心資訊順序**，再「逐步增強」到大螢幕。
- CSS 開銷更小：預設寫手機樣式，較寬時才加媒體條件。

### 常見斷點（僅供參考，Tailwind 預設）

- `sm` 640px、`md` 768px、`lg` 1024px、`xl` 1280px、`2xl` 1536px。

### 技巧

- 流體字級：`clamp(1rem, 2vw + 0.5rem, 1.25rem)`。
- 圖片：`width:100%` + `height:auto`；`loading="lazy"`。
- **容器查詢**（進階）：依容器寬度變化（支援度已不錯）。

---

## 4. Design Tokens：把設計變成「可以程式化重用的變數」

### 是什麼？

將**色彩、字體、字級、間距、圓角、陰影**等 UI 决策抽象為命名且可版本控管的「最小原子單位」。

### 目的

- 一致性：全站顏色或字級改名一處，全站同步。
- 可維護：與設計稿雙向對齊，跨專案可移植。

### 命名範式（範例）

- 色彩：`--color-primary/--color-bg/--color-text-muted`
- 間距：`--space-1/2/3/4`（對應 4/8/12/16px）
- 字級：`--text-xs/sm/base/lg/xl/2xl…`

### 放哪裡？

- CSS Variables（Tailwind 亦可在 `theme.extend` 對應）。

**例：CSS Variables + Tailwind 應用**

```css
:root{
  --color-primary:#4f46e5; /* indigo-600 */
  --radius:12px;
}
```

```html
<button class="bg-[var(--color-primary)] text-white rounded-[var(--radius)] px-4 py-2">送出</button>
```

---

## 5. Tailwind CSS：為何它能加速？

### 觀念

- **Utility‑first**：用小顆粒 class 組合 UI，**離散決策 → 可重複**。
- 與 Design Tokens 天然相容：`theme` 就是你的 tokens。

### 安裝步驟（Next.js 為例）

1. `pnpm add -D tailwindcss postcss autoprefixer`
2. `npx tailwindcss init -p` 生成 `tailwind.config.js` 與 `postcss.config.js`
3. 在全域 CSS 引入：
   ```css
   @tailwind base; @tailwind components; @tailwind utilities;
   ```
4. 設定 purge（`content`），避免生產包變肥。

### 常用片段（先背一組就會很快）

- 版面：`container mx-auto max-w-screen-lg p-4`
- 排版：`prose prose-zinc`（需安裝 `@tailwindcss/typography`）
- 卡片：`rounded-2xl shadow p-6 bg-white/80 backdrop-blur`
- 互動：聚焦環：`focus:outline-none focus:ring-2 focus:ring-offset-2`

### 抽取共用樣式（兩法）

- **片段函式**（React）：封裝 `className` 處理（`clsx`/`cn`）。
- **@apply**：在少量穩定樣式時使用，例如：
  ```css
  .btn{ @apply inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium; }
  .btn-primary{ @apply btn text-white bg-indigo-600 hover:bg-indigo-700; }
  ```

### 和元件庫搭配

- **Radix / Headless UI**：提供可及性語義與互動邏輯（無樣式）。
- **shadcn/ui**：在 Radix 之上提供一套漂亮預設與範本。

---

## 6. A11y（可及性）最小集

- **鍵盤可操作**：Tab 走訪順序、可見 `:focus` 樣式、`Esc` 關閉 Dialog。
- **對比度**：文字與背景至少 4.5:1（大字 3:1）。
- **語義與標籤**：表單 `label for` 對應；Dialog 需 `aria-modal="true"`、標題關聯。
- **替代文字**：圖像 `alt` 說明目的，不描述裝飾。
- **跳至主內容**：頁首提供「跳到主內容」連結（`skip link`）。

**Skip Link 範例**

```html
<a class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 bg-black text-white p-2 rounded" href="#main">跳到主內容</a>
```

---

## 7. SVG：向量圖的正確用法

- **inline SVG**：可直接用 CSS 控制 `fill`/`stroke`、與文字同色。
- ``：確保可縮放不失真；移除 `width/height` 讓其隨容器。
- **Icon 套用**：可用 lucide/heroicons；統一線寬與圓角風格。
- **最佳化**：SVGO 壓縮（線上或 CLI）。

**例：可變色的 inline icon**

```html
<svg viewBox="0 0 24 24" class="w-5 h-5 fill-none stroke-current">
  <path d="M5 12h14" stroke-width="2" stroke-linecap="round" />
</svg>
```

---

## 8. Favicon／OG 圖與 Manifest

- **Favicon**：提供 `favicon.ico` 與 `apple-touch-icon.png`（≥180×180）。
- **PWA Manifest**：`site.webmanifest` 指定圖標與主題色。
- **OG 圖**：`1200×630`（安全區避免邊緣 60px）；Twitter 卡片用 `summary_large_image`。

**Head 範例**

```html
<link rel="icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">
<meta property="og:title" content="產品名稱">
<meta property="og:description" content="一句話價值主張">
<meta property="og:image" content="/og-image.png">
<meta name="twitter:card" content="summary_large_image">
```

---

## 9. 常用元件（Button／Card／Dialog）

### Button（狀態與尺寸）

```html
<button class="inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium
  bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500
  disabled:opacity-60 disabled:cursor-not-allowed">
  送出
</button>
```

### Card（資訊塊）

```html
<article class="rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm">
  <h3 class="text-lg font-semibold">卡片標題</h3>
  <p class="mt-2 text-zinc-600">卡片內容摘要。</p>
  <div class="mt-4"><a class="text-indigo-600 hover:underline" href="#">了解更多 →</a></div>
</article>
```

### Dialog（建議用 Radix/Headless UI 封裝）

最小需求：可鍵盤開關、聚焦陷阱、`aria-modal`、關閉按鈕有可見文本。

---

## 10. 上手實作：從 0 到可看

### A. `style-guide.html`

- 定義 tokens：`--color-*`、`--space-*`、`--radius`、字級階梯、陰影層級。
- 展示版：顏色方塊、字級對照、間距樣本、按鈕變體。

### B. `components.html`

- Button：主色／次要／幽靈（ghost）三款 + loading/disabled。
- Card：含圖片、純文字兩型。
- Dialog：可鍵盤操作與可見聚焦。

### C. `layout.html`

- Navbar：手機為漢堡／抽屜，桌機為橫列。
- Hero：標題＋副標＋主 call-to-action。
- Cards 區：Grid 隨斷點 1→2→3 欄。

---

## 11. 推薦技術棧（本階段用得到的）

- **最小**：Tailwind + Radix（或 Headless UI）
- **進階**：shadcn/ui（漂亮預設）＋ Framer Motion（微動畫）

> 微動畫原則：0.15–0.25s、距離小、曲線使用 ease‑out／ease‑in‑out，避免干擾可用性。

---

## 12. 常見坑位與解法

- **只有 div 沒有語義**：加入 `<main>/<nav>/<section>` 與正確 heading 等級。
- **RWD 亂套**：先做手機版，寫好內容順序，再添加 `sm:/md:/lg:` 修飾。
- **Tailwind class 炸裂難維護**：抽出 `.btn/.card` 或用元件封裝。
- **對比度不足**：改色或加 `shadow` 與背景層，維持 4.5:1。
- **Dialog 不可鍵盤關閉**：確保 `Esc`、焦點陷阱、可視化 `:focus`。

---

## 13. 七日訓練菜單（1–2 週可彈性伸縮）

- **Day 1**：語義化 HTML 重構三個常見段落（Hero／Features／Footer）。
- **Day 2**：Flex 練習 5 題（置中、兩端對齊、等分、等高卡片、吸邊）。
- **Day 3**：Grid 練習 5 題（卡片牆、聖杯版面、圖片拼貼、自動填滿、重疊區）。
- **Day 4**：建立 Design Tokens 與 `style-guide.html`。
- **Day 5**：Tailwind 導入與抽取 `.btn/.card`，完成 `components.html`。
- **Day 6**：做出 `layout.html`（三斷點），並加上 skip link。
- **Day 7**：加入 favicon／OG／manifest，做可及性檢查與修正。

---

## 14. 80% 檢核表（打勾才能通關）

-

---

## 15. 參考與下一步

- 下一階段：**現代前端框架（Next.js／渲染策略）**，把這裡做好的 UI「掛上」路由與資料。
- 建議在 GitHub 建一個 `ui-foundations` 倉庫保存本階段成果，後續專案可直接復用。

